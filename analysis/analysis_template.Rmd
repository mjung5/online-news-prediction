---
output: 
  github_document:
    toc: true
    html_preview: false
params: 
    channel: channel
title: "`r str_to_title(params$channel)`"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

# import libraries up here so we don't print out any warnings that make our document messy
library(tidyverse)
```
## Intro
placeholder

## Requirements
```{r 0_requirements, eval=FALSE}
library(tidyverse)
```

## Read in Data
```{r 1_readData}
# read entire dataset
  # subset to get the data channel we want
    # remove unnessary columns
df <- read_csv('data/OnlineNewsPopularity.csv') %>%
        filter((!!sym(paste0('data_channel_is_', params$channel))) == 1) %>%
          select(-contains('data_channel_is'))

dim(df)
```

## Exploratory Data Anaysis
```{r 1_eda}
# simple scatter plot
g1 <- df %>% ggplot(aes(x=num_hrefs, y=shares)) +
        geom_point(size=2, shape=23) +
        ylim(0, 10000)
g1
```


```{r 2_eda}
# histogram for day of week vs shares
# first create a variable that holds day of week
levels = c('Sunday', 'Monday', 'Tuesday', 'Wednesday','Thursday', 'Friday', 'Saturday')
df <- df %>% mutate(weekday = ifelse(weekday_is_monday==1, 'Monday', 
                                ifelse(weekday_is_tuesday==1, 'Tuesday',
                                ifelse(weekday_is_wednesday==1, 'Wednesday',
                                ifelse(weekday_is_thursday==1, 'Thursday', 
                                ifelse(weekday_is_friday==1, 'Friday',
                                ifelse(weekday_is_saturday==1, 'Saturday', 'Sunday'
                                       ))))))) %>%
                mutate(weekday = factor(weekday, levels = levels))

g2 <- df %>% ggplot(aes(x=weekday, y=shares)) +
        geom_bar(stat="identity") + 
        theme(axis.text.x = element_text(angle = 45, vjust = .75)) +
        ggtitle('Day of Week and Total Number of Shares')
g2
```






